\chapter{Building Measures}

Previously, we've considered the $L^p$ norms on $\mrm C([0, 1])$ and shown that it is not complete under these norms. In order to complete $\mrm C([0, 1])$, we need to define the integral on characteristic functions $\chi_E$ for many sets $E \subseteq [0, 1]$, as they can be approximated by trapezoids. 

To do this, we want to be able measure the sizes of sets ``consistently." By ``consistent'', we mean that it satisfies a few properties that are intuitively true. For example, if $\mu$ is a function that ``measures'' the sizes of sets, then if $E$ and $F$ are two disjoint sets, then intuitively, $\mu(E \sqcup F)$ should be $\mu(E) + \mu(F)$.

\section{Families and Measures}

\begin{definition}
    If $X$ is a set, a \textbf{ring} of subsets is a collection $R \subseteq 2^X$ such that \begin{enumerate}
        \item If $E, F \in R$, then $E \cup F \in R$.
        \item If $E, F \in R$, then $E \setminus X \in R$.
    \end{enumerate}
    This additionally implies that $\varnothing$ and $E \cap F = E \cup F \setminus (E \triangle F)$ is in $R$.

    A \textbf{finitely additive measure} on $R$ is a function $\mu \colon X \to [0, \infty]$ where $\mu(E \sqcup F) = \mu(E) + \mu(F)$.
\end{definition}

It is obvious that for a finitely-additive measure we have that $\mu(\varnothing) = 0$.

However, rings and finitely-additive measures aren't good enough, because of the key word \emph{finite}. If $E_n$ is a sequence of disjoint intervals $[a, b)$, we define $\mu(E_n) = [a, b)$. We consider that \[\sum_{n = 1}^\infty \mu(E_n) < \infty \] and define \[F_n = \bigsqcup_{k = 1}^n E_k,\] we see that $\chi_{F_n}$ is a Cauchy sequence, which ``wants to'' converge to $\chi_E$, where $E = \bigcup E_k$. Thus it makes sense to define \[\mu(E) = \sum_{n = 1}^\infty \mu(E_n),\] and by doing so, we introduce countable additivity.

\begin{definition}
    A \textbf{$\sigma$-ring} is a ring that is closed under countable unions.

    A \textbf{$\sigma$-algebra} (or $\sigma$-field) is a $\sigma$-ring with the whole $X$ in it.
\end{definition}

Similarly to topologies, we can order $\sigma$-rings (or $\sigma$-algebras) by inclusion, and we have the following proposition:

\begin{proposition}
    If $\qty{\mc S_\alpha}$ is any (arbitrarily large) collection of $\sigma$-rings ($\sigma$-algebras) on $X$, then the intersection $\bigcap \mc S_\alpha$ is a $\sigma$-ring (resp. $\sigma$-algebra) on $X$. 
\end{proposition}

As a corollary we have that 

\begin{corollary}
    Any collection $\mc C \in 2^X$ has a smallest $\sigma$-ring (or $\sigma$-algebra) containing it. 

    We call this $\sigma$-ring $\mc S(\mc C)$, and we say that it is generated by $\mc C$.
\end{corollary}

\begin{example}
    If $X$ is any set, the set of finite and countable subsets of $X$ form a $\sigma$-ring on $X$. This is also the $\sigma$-ring generated by singletons.
\end{example}

\begin{definition}
    A (countably additive) \textbf{measure} on a $\sigma$-ring $\mc S$ is a function $\mu \colon \mc S \to [0, \infty]$ such that for all disjoint families of sets $E_1, E_2, \dots \in \mc S$, we have \[\mu\qty(\bigsqcup_{n = 1}^\infty E_n) = \sum_{n = 1}^\infty \mu(E_n).\]
\end{definition}

One may ask why we only consider countable additivity and not uncountable additivity. Intuitively, on the real line, the length (size) of any singleton $\qty{x}$ should be $0$, as it is smaller than any interval of positive length. However, the interval $[0, 1]$ is an uncountable disjoint union of these singletons, so uncountable additivity would imply that the length of $[0, 1]$ would be $0$.

Some examples of measures are below:

\begin{example}[Counting Measure]
    For a space $X$, we can let $\mc S$ be the set of all countable subsets of $X$, and we can define a measure on $\mc S$ by $\mu(E) = \#(E)$, which is $\infty$ if $E$ has infinite cardinality.
\end{example}

\begin{example}
    The counting measure is a special case of the measure defined as \[\mu_f(E) = \sum_{x \in E} f(x) \]where $f \colon X \to [0, \infty]$.

    The reason why this is countably additive is due to the ability to switch the order of summation when it is absolutely convergent.
\end{example}

\begin{example}
    Another special case is when $X$ itself is countable and \[ \sum_{x \in X} f(x) = 1.\] This gives rise to discrete probability measures and distributions, and $f$ is in this case known as the probability mass function. 

    As an example, taking $X = \qty{0, 1, \dots}$ and $f(n) = p(1 - p)^{n - 1}$ gives us the geometric distribution with parameter $p$.
\end{example}

\section{Prerings and Premeasures}

However, directly defining measures for more complicated $\sigma$-rings is very difficult. For instance, it would be very difficult to explicitly define a measure on the $\sigma$-ring (which happens to be a $\sigma$-algebra) generated by the intervals $[a, b)$ (we will see why we choose one end to be open later) in $\bb R$.

Thus, we try to define measures on smaller objects and then extend them to the $\sigma$-rings generated by those objects, analogouly to how we define a function on a basis of a vector space and extend it to the entire vector space. These smaller objects are called prerings.

\begin{definition}
    A \textbf{prering} (or semiring) on a set $X$ is a nonempty collection of subsets $\mc P \subseteq 2^X$ satisfying the following properties:
    \begin{enumerate}
        \item If $E, F \in \mc S$, then $E \cap F \in \mc S$.
        \item If $E, F \in \mc S$, then there exists disjoint sets $E_1, \dots, E_n \in \mc S$ such that \[E \setminus F = \bigsqcup_{i = 1}^n E_i.\]
    \end{enumerate}
\end{definition}

\begin{definition}
    A countably additive set function $\mu \colon \mc P \to [0, \infty]$ is called a \textbf{premeasure}.
\end{definition}

\begin{example}
    As above, the sets $[a, b)$ form a prering on the reals. The proof of this is simple but tedious.

    The function $\mu([a, b)) = b - a$ is a premeasure. The proof of this is less simple and even more tedious.
\end{example}

\begin{example}
    If $\alpha \colon \bb R \to \bb R$ is a nondecreasing function, that is left-continuous, then $\mu_\alpha([a, b)) = \alpha(b) - \alpha(a)$ is a premeasure. We see that the preceding example is a special case of this.

    Another special case is when $\alpha(x) \to 0$ as $x \to -\infty$, and $\alpha(x) \to 1$ as $x \to \infty.$ This gives rise to continuous probability distributions on $\bb R$.
\end{example}

To show that this is indeed a premeasure, we consider $[a_0, b_0) = \bigsqcup [a_n', b_n')$ and for all $\veps$ we set $\veps_j = 2^{-n - 1}\veps$. Then, we pick $b' < b$ such that $\alpha(b') + \veps/2 > \alpha(b)$. Now, for each $j$, choose $a_j' < a_j$ such that $\alpha(a_j') + \veps_j > \alpha(a_j)$. Then, $(a_j', b_j)$ form an open covering of $[a_0, b_0']$. We can then find a finite subcover $\mc C$. We want to reorder and renumber inductively the sets in this interval, to make the sets disjoint members of the prering. As a first step, we choose $S = (a_1', b_1) \in \mc C$ such that $a_0 \in S$, and we call it $S_1$. Now, there's an interval containing $b_1$, and we do a similar process until we run out of sets. Now, \[\sum_{j = 1}^n \alpha(b_j) - \alpha(a_j') = -\alpha(a_1) + \sum_{j = 1}^{n - 1} \alpha(b_j) - \alpha(a_{j + 1}') + \alpha(b_n) \ge \alpha(b_n) - \alpha(a_1') > \alpha(b_0) - \alpha(a_0) - \veps/2.\] We also have that \[\sum_{j = 1}^n \alpha(b_j) - \alpha(a_j') < \sum_{j = 1}^n \alpha(b_j) - \alpha(a_j) + \veps_j  \le \veps/2 + \sum_{j = 1}^\infty \alpha(b_j) - \alpha(a_j).\] Combining these we get that \[\mu_\alpha([a_0, b_0)) - \veps/2 < \alpha(b_0) - \alpha(a_0) - \veps/2< \sum_{j = 1}^n \alpha(b_j) - \alpha(a_j') < \veps/2 +  \sum_{j = 1}^\infty = \veps/2 + \sum_{j = 1}^n \mu_\alpha([a_j, b_j)\]

The fact that the measure of the sum is greater than or equal to the measure of the union follows from taking $\veps \to 0$.